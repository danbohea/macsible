---

# Tasks borrowed from https://github.com/andyceo/ansible-role-composer

# http://getcomposer.org
# http://getcomposer.org/doc/00-intro.md#installation-nix
#
#   curl -sS https://getcomposer.org/installer | php
#   sudo mv composer.phar /usr/local/bin/composer

- name: Download composer to /tmp
  shell:
    curl -sS https://getcomposer.org/installer | php
    creates='/usr/local/bin/composer'
    chdir='/tmp'
  become: true

- name: Move composer to /usr/local/bin (global installation)
  command:
    mv composer.phar /usr/local/bin/composer
    creates='/usr/local/bin/composer'
    chdir='/tmp'
  become: true

- name: Update composer
  command:
    composer self-update
  become: true
